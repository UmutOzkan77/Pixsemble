<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixsemble - Paralel G√∂r√ºnt√º Olu≈üturma</title>
    <link rel="icon" type="image/png" href="pixsemble%20logo.png">
    <link rel="apple-touch-icon" href="pixsemble%20logo.png">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
    <meta name="description"
        content="Deƒüi≈üken ≈üablonlarla paralel olarak y√ºzlerce AI g√∂rseli olu≈üturun. Nano Banana (Gemini) ve GPT Image (DALL-E 3) destekler.">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- API Setup Modal -->
    <div id="api-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content glass-card">
            <div class="modal-header">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 48 48" fill="none">
                        <rect x="4" y="4" width="40" height="40" rx="12" fill="black" />
                        <path d="M16 28L20 24L24 28L32 20" stroke="white" stroke-width="2.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <circle cx="18" cy="18" r="3" fill="white" opacity="0.8" />
                    </svg>
                    <h1 data-i18n="apiModalTitle">Pixsemble</h1>
                </div>
                <p class="subtitle" data-i18n="apiModalSubtitle">Paralel AI G√∂r√ºnt√º Olu≈üturma</p>
            </div>

            <div class="modal-body">
                <div class="provider-tabs">
                    <button class="provider-tab active" data-provider="nanoBanana">
                        <span class="provider-icon">üçå</span>
                        Nano Banana
                    </button>
                    <button class="provider-tab" data-provider="gptImage">
                        <span class="provider-icon">ü§ñ</span>
                        GPT Image
                    </button>
                </div>

                <div class="api-form">
                    <div class="form-group">
                        <label for="api-key" data-i18n="apiKeyLabel">API Anahtarƒ±</label>
                        <div class="input-wrapper">
                            <input type="password" id="api-key" placeholder="API anahtarƒ±nƒ±zƒ± girin..."
                                data-i18n="apiKeyPlaceholder">
                            <button type="button" class="toggle-visibility" title="G√∂ster/Gizle">
                                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                    <circle cx="12" cy="12" r="3" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div id="nanoBanana-options" class="provider-options">
                        <div class="form-group">
                            <label for="nano-model">Model</label>
                            <select id="nano-model">
                                <option value="gemini-2.0-flash-image-preview" data-i18n="modelNanoFast">Nano Banana
                                    (Hƒ±zlƒ±)</option>
                                <option value="gemini-3-pro-image-preview" selected data-i18n="modelNanoPro">Nano Banana
                                    Pro</option>
                            </select>
                        </div>
                    </div>

                    <div id="gptImage-options" class="provider-options hidden">
                        <div class="form-group">
                            <label for="gpt-model">Model</label>
                            <select id="gpt-model">
                                <option value="dall-e-3" selected>DALL-E 3</option>
                                <option value="gpt-image-1">GPT Image</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="gpt-size" data-i18n="size">Boyut</label>
                            <select id="gpt-size">
                                <option value="1024x1024" selected>1024√ó1024</option>
                                <option value="1792x1024" data-i18n="sizeLandscape">1792√ó1024 (Yatay)</option>
                                <option value="1024x1792" data-i18n="sizePortrait">1024√ó1792 (Dikey)</option>
                            </select>
                        </div>
                    </div>

                    <button id="save-api" class="btn btn-primary btn-block">
                        <span data-i18n="startCreating">Olu≈üturmaya Ba≈üla</span>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </button>
                </div>

                <div class="api-help">
                    <details>
                        <summary data-i18n="howToGetKeys">API anahtarƒ± nasƒ±l alƒ±nƒ±r?</summary>
                        <div class="help-content">
                            <p><strong data-i18n="googleAiStudio">Google AI Studio:</strong></p>
                            <ol>
                                <li><a href="https://aistudio.google.com/apikey" target="_blank"
                                        data-i18n="googleAiStudio">Google AI Studio</a>'ya gidin</li>
                                <li data-i18n="clickCreateKey">"Create API Key" butonuna tƒ±klayƒ±n</li>
                                <li data-i18n="copyPaste">Kopyalayƒ±p yukarƒ±ya yapƒ±≈ütƒ±rƒ±n</li>
                            </ol>
                            <p><strong data-i18n="openaiPlatform">GPT Image (OpenAI):</strong></p>
                            <ol>
                                <li><a href="https://platform.openai.com/api-keys" target="_blank"
                                        data-i18n="openaiPlatform">OpenAI Platform</a>'a gidin</li>
                                <li data-i18n="createNewSecret">Yeni bir gizli anahtar olu≈üturun</li>
                                <li data-i18n="copyPaste">Kopyalayƒ±p yukarƒ±ya yapƒ±≈ütƒ±rƒ±n</li>
                            </ol>
                        </div>
                    </details>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" class="app hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo-small">
                    <picture>
                        <source srcset="ozki%20logos/ozki%20logo%20dark%20mode.png"
                            media="(prefers-color-scheme: dark)">
                        <img src="ozki%20logos/ozki%20logo%20light%20mode.png" alt="OZKI" class="app-logo">
                    </picture>
                </div>
            </div>
            <div class="header-center">
                <div class="mode-toggle">
                    <button class="mode-btn active" data-mode="generate">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z" />
                            <path d="M2 17l10 5 10-5" />
                            <path d="M2 12l10 5 10-5" />
                        </svg>
                        <span data-i18n="modeGenerate">Olu≈ütur</span>
                    </button>
                    <button class="mode-btn" data-mode="edit">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                        </svg>
                        <span data-i18n="modeEdit">D√ºzenle</span>
                    </button>
                </div>
            </div>
            <div class="header-right">
                <button id="settings-btn" class="icon-btn" title="Ayarlar">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3" />
                        <path
                            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                    </svg>
                </button>
                <div class="provider-selector-wrapper">
                    <select id="provider-select" class="provider-select">
                        <option value="nanoBanana">üçå Nano Banana</option>
                        <option value="gptImage">ü§ñ GPT Image</option>
                    </select>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <div class="main-grid">
                <!-- Left Panel - Prompt & Settings -->
                <section class="panel prompt-panel glass-card">
                    <h2 class="panel-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                        </svg>
                        <span data-i18n="panelPrompt">Prompt</span>
                    </h2>

                    <div class="prompt-editor-container">
                        <textarea id="prompt-input" class="prompt-editor" placeholder="Olu≈üturmak istediƒüiniz g√∂rseli tarif edin...

≈ûunun gibi [deƒüi≈ükenler] kullanƒ±n:
[stil] sanat tarzƒ±nda [renk] bir [hayvan]" data-i18n="promptPlaceholder"></textarea>
                        <div class="prompt-footer">
                            <div class="char-count"><span id="char-count">0</span> <span
                                    data-i18n="charCount">karakter</span></div>
                            <div class="prompt-tips">
                                <span class="tip" data-i18n="tipVariables">ƒ∞pucu: Deƒüi≈ükenler i√ßin [k√∂≈üeli parantez]
                                    kullanƒ±n</span>
                            </div>
                        </div>
                    </div>

                    <!-- Variables Section -->
                    <div id="variables-section" class="variables-section hidden">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="4 17 10 11 4 5" />
                                    <line x1="12" y1="19" x2="20" y2="19" />
                                </svg>
                                <span data-i18n="panelVariables">Deƒüi≈ükenler</span>
                            </h3>
                            <div class="var-mode-toggle">
                                <button class="var-mode-btn active" data-varmode="combination"
                                    title="T√ºm kombinasyonlar">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="3" width="7" height="7" />
                                        <rect x="14" y="3" width="7" height="7" />
                                        <rect x="14" y="14" width="7" height="7" />
                                        <rect x="3" y="14" width="7" height="7" />
                                    </svg>
                                </button>
                                <button class="var-mode-btn" data-varmode="linked" title="Satƒ±r satƒ±r">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="8" y1="6" x2="21" y2="6" />
                                        <line x1="8" y1="12" x2="21" y2="12" />
                                        <line x1="8" y1="18" x2="21" y2="18" />
                                        <line x1="3" y1="6" x2="3.01" y2="6" />
                                        <line x1="3" y1="12" x2="3.01" y2="12" />
                                        <line x1="3" y1="18" x2="3.01" y2="18" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div id="combination-mode" class="var-mode-content">
                            <p class="mode-desc" data-i18n="modeDescCombo">Her deƒüi≈üken deƒüeri diƒüerleriyle kombinasyon
                                olu≈üturur.</p>
                            <div id="var-inputs" class="var-inputs"></div>
                        </div>

                        <div id="linked-mode" class="var-mode-content hidden">
                            <p class="mode-desc" data-i18n="modeDescLinked">Her satƒ±r bir g√∂rsel olu≈üturur. Deƒüerler
                                sƒ±rayla e≈üle≈üir.</p>
                            <div id="linked-table-container" class="linked-table-container">
                                <table id="linked-table" class="linked-table">
                                    <thead></thead>
                                    <tbody></tbody>
                                </table>
                                <button id="add-row-btn" class="btn btn-ghost btn-sm">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="12" y1="5" x2="12" y2="19" />
                                        <line x1="5" y1="12" x2="19" y2="12" />
                                    </svg>
                                    <span data-i18n="addRow">Satƒ±r Ekle</span>
                                </button>
                                <!-- Import Button -->
                                <input type="file" id="import-file" accept=".csv, .xlsx, .xls" hidden>
                                <button id="import-btn" class="btn btn-ghost btn-sm">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                        <polyline points="7 10 12 15 17 10" />
                                        <line x1="12" y1="15" x2="12" y2="3" />
                                    </svg>
                                    <span data-i18n="importCsv">CSV/Excel ƒ∞√ße Aktar</span>
                                </button>
                            </div>
                        </div>

                        <div class="combo-summary">
                            <span id="combo-count">0</span> <span data-i18n="imagesWillBeGenerated">g√∂rsel
                                olu≈üturulacak</span>
                        </div>
                    </div>

                    <!-- Edit Mode: Image Upload -->
                    <div id="edit-images-section" class="edit-images-section hidden">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                                    <circle cx="8.5" cy="8.5" r="1.5" />
                                    <polyline points="21 15 16 10 5 21" />
                                </svg>
                                <span data-i18n="panelInputImages">Girdi G√∂rselleri</span>
                            </h3>
                        </div>
                        <div id="input-dropzone" class="dropzone">
                            <div class="dropzone-content">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                    <polyline points="17 8 12 3 7 8" />
                                    <line x1="12" y1="3" x2="12" y2="15" />
                                </svg>
                                <p data-i18n="dropImages">G√∂rselleri buraya s√ºr√ºkleyin veya <span
                                        class="browse-link">g√∂z atƒ±n</span></p>
                                <span class="file-types">PNG, JPG, JPEG, WEBP</span>
                            </div>
                            <input type="file" id="input-files" multiple accept=".png,.jpg,.jpeg,.webp" hidden>
                        </div>
                        <div id="input-preview" class="image-preview-grid"></div>
                    </div>

                    <!-- Reference Image -->
                    <div class="reference-section">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path
                                        d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z" />
                                    <circle cx="12" cy="13" r="3" />
                                </svg>
                                <span data-i18n="panelStyleRef">Stil Referansƒ±</span>
                                <span class="optional-badge" data-i18n="optionalBadge">ƒ∞steƒüe Baƒülƒ±</span>
                            </h3>
                        </div>
                        <div id="ref-dropzone" class="dropzone dropzone-small">
                            <div class="dropzone-content">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                                    <circle cx="8.5" cy="8.5" r="1.5" />
                                    <polyline points="21 15 16 10 5 21" />
                                </svg>
                                <p data-i18n="addStyleRef">Stil referansƒ± ekle</p>
                            </div>
                            <input type="file" id="ref-file" accept=".png,.jpg,.jpeg,.webp" hidden>
                        </div>
                        <div id="ref-preview" class="ref-preview hidden"></div>
                    </div>

                    <!-- Quality Settings -->
                    <div class="quality-section">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon
                                        points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                                </svg>
                                <span data-i18n="panelQuality">Kalite</span>
                            </h3>
                        </div>
                        <div class="quality-options" id="quality-options">
                            <label class="quality-option">
                                <input type="radio" name="quality" value="standard" checked>
                                <span class="quality-card">
                                    <span class="quality-name" data-i18n="qualityStandard">Standart</span>
                                    <span class="quality-desc" data-i18n="qualityStandardDesc">1K/2K ‚Ä¢ Hƒ±zlƒ±</span>
                                </span>
                            </label>
                            <label class="quality-option" id="quality-4k-option">
                                <input type="radio" name="quality" value="4k">
                                <span class="quality-card">
                                    <span class="quality-name" data-i18n="quality4k">4K</span>
                                    <span class="quality-desc" data-i18n="quality4kDesc">Y√ºksek detay</span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Performance Settings -->
                    <div class="performance-section">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                                </svg>
                                <span data-i18n="panelPerformance">Performans</span>
                            </h3>
                        </div>
                        <div class="slider-group">
                            <label>
                                <span data-i18n="parallelWorkers">Paralel √áalƒ±≈üanlar</span>
                                <span id="workers-value" class="slider-value">6</span>
                            </label>
                            <input type="range" id="workers-slider" min="1" max="16" value="6">
                        </div>
                    </div>

                    <!-- Generate Button -->
                    <div class="generate-section">
                        <div class="cost-estimate" id="cost-estimate">
                            <span class="cost-label" data-i18n="estimatedCost">Tahmini maliyet:</span>
                            <span class="cost-value" id="cost-value">$0.00</span>
                        </div>
                        <button id="generate-btn" class="btn btn-primary btn-lg btn-block">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                            </svg>
                            <span data-i18n="btnGenerate">G√∂rselleri Olu≈ütur</span>
                        </button>
                    </div>
                </section>

                <!-- Right Panel - Results -->
                <section class="panel results-panel glass-card">
                    <div class="results-header">
                        <h2 class="panel-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                                <circle cx="8.5" cy="8.5" r="1.5" />
                                <polyline points="21 15 16 10 5 21" />
                            </svg>
                            <span data-i18n="panelResults">Sonu√ßlar</span>
                        </h2>
                        <div class="results-actions hidden" id="results-actions">
                            <button id="download-all-btn" class="btn btn-ghost btn-sm">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                    <polyline points="7 10 12 15 17 10" />
                                    <line x1="12" y1="15" x2="12" y2="3" />
                                </svg>
                                <span data-i18n="downloadAll">T√ºm√ºn√º ƒ∞ndir (ZIP)</span>
                            </button>
                        </div>
                    </div>

                    <!-- Progress Section -->
                    <div id="progress-section" class="progress-section hidden">
                        <div class="progress-header">
                            <span class="progress-status" id="progress-status"
                                data-i18n="statusGenerating">Olu≈üturuluyor...</span>
                            <span class="progress-count" id="progress-count">0/0</span>
                        </div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="progress-bar"></div>
                        </div>
                        <div class="progress-stats">
                            <span class="stat success" id="stat-success">‚úì 0</span>
                            <span class="stat error" id="stat-error">‚úó 0</span>
                            <span class="stat pending" id="stat-pending">‚è≥ 0</span>
                        </div>
                        <button id="cancel-btn" class="btn btn-ghost btn-sm" data-i18n="btnCancel">ƒ∞ptal</button>
                    </div>

                    <!-- Results Grid -->
                    <div id="results-container" class="results-container">
                        <div class="empty-state" id="empty-state">
                            <img src="moskot.png" alt="Moskot" class="empty-state-moskot">
                            <h3 data-i18n="emptyStateTitle">Hen√ºz g√∂rsel yok</h3>
                            <p data-i18n="emptyStateDesc">Bir prompt yazƒ±n ve g√∂rsel olu≈üturmak i√ßin Olu≈ütur'a tƒ±klayƒ±n
                            </p>
                        </div>
                        <div id="results-grid" class="results-grid"></div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content glass-card modal-sm">
            <div class="modal-header">
                <h2 data-i18n="settingsHeader">Ayarlar</h2>
                <button class="modal-close" id="close-settings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3 data-i18n="sectionApi">API Yapƒ±landƒ±rmasƒ±</h3>
                    <div class="current-api">
                        <span data-i18n="currentProvider">Mevcut Saƒülayƒ±cƒ±:</span>
                        <span id="settings-provider" class="badge">Nano Banana</span>
                    </div>
                    <div class="form-group settings-proxy">
                        <label for="proxy-url" data-i18n="proxyLabel">Nano Banana Proxy URL</label>
                        <input type="text" id="proxy-url" placeholder="https://your-proxy.example.com">
                        <p class="input-hint" data-i18n="proxyHint">Google AI Studio u√ß noktalarƒ± tarayƒ±cƒ± CORS'unu
                            engeller. ƒ∞stekleri iletmek i√ßin bir proxy URL saƒülayƒ±n.</p>
                    </div>
                    <button id="change-api-btn" class="btn btn-ghost btn-block" data-i18n="changeApiBtn">
                        API Anahtarƒ±nƒ± / Saƒülayƒ±cƒ±yƒ± Deƒüi≈ütir
                    </button>
                </div>

                <div class="settings-section">
                    <h3 data-i18n="sectionLanguage">Dil</h3>
                    <div class="form-group">
                        <select id="language-select">
                            <option value="tr" selected>T√ºrk√ße üáπüá∑</option>
                            <option value="en">English üá¨üáß</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h3 data-i18n="sectionAbout">Hakkƒ±nda</h3>
                    <p class="about-text" data-i18n="aboutText">Pixsemble v2.0 - Paralel AI G√∂r√ºnt√º Olu≈üturma</p>
                    <p class="about-text muted" data-i18n="aboutSub">NanoApp'ten esinlenen modern bir web uygulamasƒ±</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/variable-parser.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/api-providers.js"></script>
    <script src="js/image-queue.js"></script>
    <script src="js/app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then((registration) => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch((err) => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>

</html>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pixsemble - Parallel Image Generation</title>
<link rel="icon" type="image/png" href="pixsemble%20logo.png">
<link rel="apple-touch-icon" href="pixsemble%20logo.png">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ffffff">
<meta name="description"
    content="Generate hundreds of AI images in parallel with variable templates. Supports Nano Banana (Gemini) and GPT Image (DALL-E 3).">
<link rel="stylesheet" href="css/style.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- API Setup Modal -->
    <div id="api-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content glass-card">
            <div class="modal-header">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 48 48" fill="none">
                        <rect x="4" y="4" width="40" height="40" rx="12" fill="black" />
                        <path d="M16 28L20 24L24 28L32 20" stroke="white" stroke-width="2.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <circle cx="18" cy="18" r="3" fill="white" opacity="0.8" />
                    </svg>
                    <h1>Pixsemble</h1>
                </div>
                <p class="subtitle">Parallel AI Image Generation</p>
            </div>

            <div class="modal-body">
                <div class="provider-tabs">
                    <button class="provider-tab active" data-provider="nanoBanana">
                        <span class="provider-icon">üçå</span>
                        Nano Banana
                    </button>
                    <button class="provider-tab" data-provider="gptImage">
                        <span class="provider-icon">ü§ñ</span>
                        GPT Image
                    </button>
                </div>

                <div class="api-form">
                    <div class="form-group">
                        <label for="api-key">API Key</label>
                        <div class="input-wrapper">
                            <input type="password" id="api-key" placeholder="Enter your API key...">
                            <button type="button" class="toggle-visibility" title="Show/Hide">
                                <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                    <circle cx="12" cy="12" r="3" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div id="nanoBanana-options" class="provider-options">
                        <div class="form-group">
                            <label for="nano-model">Model</label>
                            <select id="nano-model">
                                <option value="gemini-2.0-flash-image-preview">Nano Banana (Fast)</option>
                                <option value="gemini-3-pro-image-preview" selected>Nano Banana Pro</option>
                            </select>
                        </div>
                    </div>

                    <div id="gptImage-options" class="provider-options hidden">
                        <div class="form-group">
                            <label for="gpt-model">Model</label>
                            <select id="gpt-model">
                                <option value="dall-e-3" selected>DALL-E 3</option>
                                <option value="gpt-image-1">GPT Image</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="gpt-size">Size</label>
                            <select id="gpt-size">
                                <option value="1024x1024" selected>1024√ó1024</option>
                                <option value="1792x1024">1792√ó1024 (Landscape)</option>
                                <option value="1024x1792">1024√ó1792 (Portrait)</option>
                            </select>
                        </div>
                    </div>

                    <button id="save-api" class="btn btn-primary btn-block">
                        <span>Start Creating</span>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </button>
                </div>

                <div class="api-help">
                    <details>
                        <summary>How to get API keys?</summary>
                        <div class="help-content">
                            <p><strong>Nano Banana (Gemini):</strong></p>
                            <ol>
                                <li>Go to <a href="https://aistudio.google.com/apikey" target="_blank">Google AI
                                        Studio</a></li>
                                <li>Click "Create API Key"</li>
                                <li>Copy and paste above</li>
                            </ol>
                            <p><strong>GPT Image (OpenAI):</strong></p>
                            <ol>
                                <li>Go to <a href="https://platform.openai.com/api-keys" target="_blank">OpenAI
                                        Platform</a></li>
                                <li>Create new secret key</li>
                                <li>Copy and paste above</li>
                            </ol>
                        </div>
                    </details>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" class="app hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo-small">
                    <picture>
                        <source srcset="ozki%20logos/ozki%20logo%20dark%20mode.png"
                            media="(prefers-color-scheme: dark)">
                        <img src="ozki%20logos/ozki%20logo%20light%20mode.png" alt="OZKI" class="app-logo">
                    </picture>
                </div>
            </div>
            <div class="header-center">
                <div class="mode-toggle">
                    <button class="mode-btn active" data-mode="generate">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z" />
                            <path d="M2 17l10 5 10-5" />
                            <path d="M2 12l10 5 10-5" />
                        </svg>
                        Generate
                    </button>
                    <button class="mode-btn" data-mode="edit">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                        </svg>
                        Edit
                    </button>
                </div>
            </div>
            <div class="header-right">
                <button id="settings-btn" class="icon-btn" title="Settings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3" />
                        <path
                            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                    </svg>
                </button>
                <div class="provider-selector-wrapper">
                    <select id="provider-select" class="provider-select">
                        <option value="nanoBanana">üçå Nano Banana</option>
                        <option value="gptImage">ü§ñ GPT Image</option>
                    </select>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <div class="main-grid">
                <!-- Left Panel - Prompt & Settings -->
                <section class="panel prompt-panel glass-card">
                    <h2 class="panel-title">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                        </svg>
                        Prompt
                    </h2>

                    <div class="prompt-editor-container">
                        <textarea id="prompt-input" class="prompt-editor" placeholder="Describe the image you want to generate...

Use [variables] like:
A [color] [animal] in a [style] art style"></textarea>
                        <div class="prompt-footer">
                            <div class="char-count"><span id="char-count">0</span> characters</div>
                            <div class="prompt-tips">
                                <span class="tip">Tip: Use [brackets] for variables</span>
                            </div>
                        </div>
                    </div>

                    <!-- Variables Section -->
                    <div id="variables-section" class="variables-section hidden">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="4 17 10 11 4 5" />
                                    <line x1="12" y1="19" x2="20" y2="19" />
                                </svg>
                                Variables
                            </h3>
                            <div class="var-mode-toggle">
                                <button class="var-mode-btn active" data-varmode="combination" title="All combinations">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="3" y="3" width="7" height="7" />
                                        <rect x="14" y="3" width="7" height="7" />
                                        <rect x="14" y="14" width="7" height="7" />
                                        <rect x="3" y="14" width="7" height="7" />
                                    </svg>
                                </button>
                                <button class="var-mode-btn" data-varmode="linked" title="Row by row">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="8" y1="6" x2="21" y2="6" />
                                        <line x1="8" y1="12" x2="21" y2="12" />
                                        <line x1="8" y1="18" x2="21" y2="18" />
                                        <line x1="3" y1="6" x2="3.01" y2="6" />
                                        <line x1="3" y1="12" x2="3.01" y2="12" />
                                        <line x1="3" y1="18" x2="3.01" y2="18" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div id="combination-mode" class="var-mode-content">
                            <p class="mode-desc">Each variable value creates combinations with all others.</p>
                            <div id="var-inputs" class="var-inputs"></div>
                        </div>

                        <div id="linked-mode" class="var-mode-content hidden">
                            <p class="mode-desc">Each row creates one image. Values are matched by position.</p>
                            <div id="linked-table-container" class="linked-table-container">
                                <table id="linked-table" class="linked-table">
                                    <thead></thead>
                                    <tbody></tbody>
                                </table>
                                <button id="add-row-btn" class="btn btn-ghost btn-sm">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <line x1="12" y1="5" x2="12" y2="19" />
                                        <line x1="5" y1="12" x2="19" y2="12" />
                                    </svg>
                                    Add Row
                                </button>
                                <!-- Import Button -->
                                <input type="file" id="import-file" accept=".csv, .xlsx, .xls" hidden>
                                <button id="import-btn" class="btn btn-ghost btn-sm">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                        <polyline points="7 10 12 15 17 10" />
                                        <line x1="12" y1="15" x2="12" y2="3" />
                                    </svg>
                                    Import CSV/Excel
                                </button>
                            </div>
                        </div>

                        <div class="combo-summary">
                            <span id="combo-count">0</span> images will be generated
                        </div>
                    </div>

                    <!-- Edit Mode: Image Upload -->
                    <div id="edit-images-section" class="edit-images-section hidden">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                                    <circle cx="8.5" cy="8.5" r="1.5" />
                                    <polyline points="21 15 16 10 5 21" />
                                </svg>
                                Input Images
                            </h3>
                        </div>
                        <div id="input-dropzone" class="dropzone">
                            <div class="dropzone-content">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                    <polyline points="17 8 12 3 7 8" />
                                    <line x1="12" y1="3" x2="12" y2="15" />
                                </svg>
                                <p>Drop images here or <span class="browse-link">browse</span></p>
                                <span class="file-types">PNG, JPG, JPEG, WEBP</span>
                            </div>
                            <input type="file" id="input-files" multiple accept=".png,.jpg,.jpeg,.webp" hidden>
                        </div>
                        <div id="input-preview" class="image-preview-grid"></div>
                    </div>

                    <!-- Reference Image -->
                    <div class="reference-section">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path
                                        d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z" />
                                    <circle cx="12" cy="13" r="3" />
                                </svg>
                                Style Reference
                                <span class="optional-badge">Optional</span>
                            </h3>
                        </div>
                        <div id="ref-dropzone" class="dropzone dropzone-small">
                            <div class="dropzone-content">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                                    <circle cx="8.5" cy="8.5" r="1.5" />
                                    <polyline points="21 15 16 10 5 21" />
                                </svg>
                                <p>Add style reference</p>
                            </div>
                            <input type="file" id="ref-file" accept=".png,.jpg,.jpeg,.webp" hidden>
                        </div>
                        <div id="ref-preview" class="ref-preview hidden"></div>
                    </div>

                    <!-- Quality Settings -->
                    <div class="quality-section">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon
                                        points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                                </svg>
                                Quality
                            </h3>
                        </div>
                        <div class="quality-options" id="quality-options">
                            <label class="quality-option">
                                <input type="radio" name="quality" value="standard" checked>
                                <span class="quality-card">
                                    <span class="quality-name">Standard</span>
                                    <span class="quality-desc">1K/2K ‚Ä¢ Fast</span>
                                </span>
                            </label>
                            <label class="quality-option" id="quality-4k-option">
                                <input type="radio" name="quality" value="4k">
                                <span class="quality-card">
                                    <span class="quality-name">4K</span>
                                    <span class="quality-desc">High detail</span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Performance Settings -->
                    <div class="performance-section">
                        <div class="section-header">
                            <h3>
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                                </svg>
                                Performance
                            </h3>
                        </div>
                        <div class="slider-group">
                            <label>
                                <span>Parallel Workers</span>
                                <span id="workers-value" class="slider-value">6</span>
                            </label>
                            <input type="range" id="workers-slider" min="1" max="16" value="6">
                        </div>
                    </div>

                    <!-- Generate Button -->
                    <div class="generate-section">
                        <div class="cost-estimate" id="cost-estimate">
                            <span class="cost-label">Estimated cost:</span>
                            <span class="cost-value" id="cost-value">$0.00</span>
                        </div>
                        <button id="generate-btn" class="btn btn-primary btn-lg btn-block">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                            </svg>
                            <span>Generate Images</span>
                        </button>
                    </div>
                </section>

                <!-- Right Panel - Results -->
                <section class="panel results-panel glass-card">
                    <div class="results-header">
                        <h2 class="panel-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                                <circle cx="8.5" cy="8.5" r="1.5" />
                                <polyline points="21 15 16 10 5 21" />
                            </svg>
                            Results
                        </h2>
                        <div class="results-actions hidden" id="results-actions">
                            <button id="download-all-btn" class="btn btn-ghost btn-sm">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                    <polyline points="7 10 12 15 17 10" />
                                    <line x1="12" y1="15" x2="12" y2="3" />
                                </svg>
                                Download All (ZIP)
                            </button>
                        </div>
                    </div>

                    <!-- Progress Section -->
                    <div id="progress-section" class="progress-section hidden">
                        <div class="progress-header">
                            <span class="progress-status" id="progress-status">Generating...</span>
                            <span class="progress-count" id="progress-count">0/0</span>
                        </div>
                        <div class="progress-bar-container">
                            <div class="progress-bar" id="progress-bar"></div>
                        </div>
                        <div class="progress-stats">
                            <span class="stat success" id="stat-success">‚úì 0</span>
                            <span class="stat error" id="stat-error">‚úó 0</span>
                            <span class="stat pending" id="stat-pending">‚è≥ 0</span>
                        </div>
                        <button id="cancel-btn" class="btn btn-ghost btn-sm">Cancel</button>
                    </div>

                    <!-- Results Grid -->
                    <div id="results-container" class="results-container">
                        <div class="empty-state" id="empty-state">
                            <img src="moskot.png" alt="Moskot" class="empty-state-moskot">
                            <h3>No images yet</h3>
                            <p>Write a prompt and click Generate to create images</p>
                        </div>
                        <div id="results-grid" class="results-grid"></div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-content glass-card modal-sm">
            <div class="modal-header">
                <h2>Settings</h2>
                <button class="modal-close" id="close-settings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h3>API Configuration</h3>
                    <div class="current-api">
                        <span>Current Provider:</span>
                        <span id="settings-provider" class="badge">Nano Banana</span>
                    </div>
                    <div class="form-group settings-proxy">
                        <label for="proxy-url">Nano Banana Proxy URL</label>
                        <input type="text" id="proxy-url" placeholder="https://your-proxy.example.com">
                        <p class="input-hint">Google AI Studio endpoints block browser CORS. Provide a proxy URL to
                            relay Nano Banana requests.</p>
                    </div>
                    <button id="change-api-btn" class="btn btn-ghost btn-block">
                        Change API Key / Provider
                    </button>
                </div>
                <div class="settings-section">
                    <h3>About</h3>
                    <p class="about-text">Pixsemble v2.0 - Parallel AI Image Generation</p>
                    <p class="about-text muted">A modern web app inspired by NanoApp</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Scripts -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/variable-parser.js"></script>
    <script src="js/api-providers.js"></script>
    <script src="js/image-queue.js"></script>
    <script src="js/app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js')
                    .then((registration) => {
                        console.log('ServiceWorker registration successful with scope: ', registration.scope);
                    })
                    .catch((err) => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>

</html>